name: Minimal test
run-name: Minimal test
on: [push]
jobs:
  check-permissions:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout source code
      uses: actions/checkout@v2
    - run: touch unreadable0
    - run: python -c "import os; os.chmod('unreadable0', 0o200)"
    # The next line, as we would expect, fails.
    # - run: python -c "open('unreadable0', 'rb').read()"
    - name: Run tox tests
      id: test
      uses: fedora-python/tox-github-action@main
      with:
        tox_env: py311
